"use strict";(self["webpackChunkproyecto_vue"]=self["webpackChunkproyecto_vue"]||[]).push([[762],{2762:function(t,i,a){a.r(i),a.d(i,{default:function(){return w}});a(1454);var e=a(6768),n=a(4232),l=a(5130);const o={key:0},s={class:"game-header-container"},r={class:"game-image-container"},u=["src"],d={class:"game-info-container"},g={class:"game-info-overlay"},c={class:"game-title"},p={class:"lead"},m={class:"lead"},k={class:"d-flex justify-content-between"},b={class:"stars"},h={class:"mt-4 p-4 bg-light rounded shadow-sm"},f={class:"stars-input"},v=["onClick"],_={class:"list-group mb-4"},L={class:"list-group-item d-flex justify-content-between"},E={class:"list-group-item d-flex justify-content-between"},y={class:"list-group-item d-flex justify-content-between"},F=["href"],C={key:1};function O(t,i,a,O,T,x){const D=(0,e.g2)("b-alert"),w=(0,e.g2)("b-button"),S=(0,e.g2)("b-card-header"),X=(0,e.g2)("b-card-body"),j=(0,e.g2)("b-card"),I=(0,e.g2)("b-accordion"),W=(0,e.g2)("b-form-input"),V=(0,e.g2)("b-form-group"),$=(0,e.g2)("b-form-textarea"),A=(0,e.g2)("b-form"),K=(0,e.g2)("b-col"),q=(0,e.g2)("b-img"),R=(0,e.g2)("b-row"),z=(0,e.g2)("b-container"),G=(0,e.g2)("b-spinner");return(0,e.uX)(),(0,e.Wv)(z,null,{default:(0,e.k6)((()=>[x.gameData&&Object.keys(x.gameData).length>0?((0,e.uX)(),(0,e.CE)("div",o,[(0,e.Lk)("div",s,[(0,e.Lk)("div",r,[(0,e.Lk)("img",{src:x.gameData.background_image,alt:"Imagen del juego",class:"game-image"},null,8,u)]),(0,e.Lk)("div",d,[(0,e.Lk)("div",g,[(0,e.Lk)("h1",c,(0,n.v_)(x.gameData.name),1),(0,e.Lk)("p",p,"Lanzamiento: "+(0,n.v_)(x.gameData.released),1),(0,e.Lk)("p",m,"Rating: "+(0,n.v_)(x.gameData.rating)+" / 5 ("+(0,n.v_)(x.gameData.ratings_count)+" votos)",1)])])]),(0,e.bF)(R,{class:"mt-4"},{default:(0,e.k6)((()=>[(0,e.bF)(K,{cols:"12",md:"8"},{default:(0,e.k6)((()=>[i[5]||(i[5]=(0,e.Lk)("div",{class:"opinion-container"},[(0,e.Lk)("h3",{class:"opinion-title"},"Opiniones")],-1)),0===x.opinions.length?((0,e.uX)(),(0,e.Wv)(D,{key:0,variant:"info",show:""},{default:(0,e.k6)((()=>i[2]||(i[2]=[(0,e.eW)(" No hay opiniones disponibles para este juego. ")]))),_:1})):((0,e.uX)(),(0,e.Wv)(I,{key:1},{default:(0,e.k6)((()=>[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(x.opinions,(t=>((0,e.uX)(),(0,e.Wv)(j,{key:t.id,class:"mb-3","no-body":""},{default:(0,e.k6)((()=>[(0,e.bF)(S,null,{default:(0,e.k6)((()=>[(0,e.Lk)("div",k,[(0,e.Lk)("span",null,[(0,e.Lk)("strong",null,(0,n.v_)(t.author),1)]),(0,e.Lk)("div",b,[((0,e.uX)(),(0,e.CE)(e.FK,null,(0,e.pI)(5,(i=>(0,e.Lk)("i",{key:i,class:(0,n.C4)(["fa-star","fa",i<=t.rating?"fas":"far"])},null,2))),64))]),(0,e.Lk)("div",null,[(0,e.bF)(w,{type:"submit",class:"boton-editar",onClick:i=>x.editOpinion(t)},{default:(0,e.k6)((()=>i[3]||(i[3]=[(0,e.eW)(" Editar ")]))),_:2},1032,["onClick"]),(0,e.bF)(w,{type:"submit",class:"boton-eliminar",onClick:i=>x.deleteOpinion(t.id)},{default:(0,e.k6)((()=>i[4]||(i[4]=[(0,e.eW)(" Eliminar ")]))),_:2},1032,["onClick"])])])])),_:2},1024),(0,e.bF)(X,null,{default:(0,e.k6)((()=>[(0,e.eW)((0,n.v_)(t.text),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})),(0,e.Lk)("div",h,[(0,e.Lk)("h4",null,(0,n.v_)(T.isEditing?"Editar Opinión":"Agregar Opinión"),1),(0,e.bF)(A,{onSubmit:(0,l.D$)(x.saveOpinion,["prevent"])},{default:(0,e.k6)((()=>[(0,e.bF)(V,{label:"Autor","label-for":"authorInput"},{default:(0,e.k6)((()=>[(0,e.bF)(W,{id:"authorInput",modelValue:T.opinionToEdit.author,"onUpdate:modelValue":i[0]||(i[0]=t=>T.opinionToEdit.author=t),required:"",placeholder:"Escribe tu nombre"},null,8,["modelValue"])])),_:1}),(0,e.bF)(V,{label:"Opinión","label-for":"opinionInput"},{default:(0,e.k6)((()=>[(0,e.bF)($,{id:"opinionInput",modelValue:T.opinionToEdit.text,"onUpdate:modelValue":i[1]||(i[1]=t=>T.opinionToEdit.text=t),required:"",rows:"3",placeholder:"Escribe tu opinión aquí"},null,8,["modelValue"])])),_:1}),(0,e.bF)(V,{label:"Calificación"},{default:(0,e.k6)((()=>[(0,e.Lk)("div",f,[((0,e.uX)(),(0,e.CE)(e.FK,null,(0,e.pI)(5,(t=>(0,e.Lk)("i",{key:t,class:(0,n.C4)(["fa-star","fa",t<=T.opinionToEdit.rating?"fas":"far"]),onClick:i=>x.setRating(t)},null,10,v))),64))])])),_:1}),(0,e.bF)(w,{type:"submit",class:"boton-opinar",block:""},{default:(0,e.k6)((()=>[(0,e.eW)((0,n.v_)(T.isEditing?"Actualizar":"Agregar Opinión"),1)])),_:1})])),_:1},8,["onSubmit"])])])),_:1}),(0,e.bF)(K,{cols:"12",md:"4"},{default:(0,e.k6)((()=>[i[10]||(i[10]=(0,e.Lk)("div",{class:"game-details-container"},[(0,e.Lk)("h3",{class:"game-details-title"},"Detalles del Juego")],-1)),(0,e.Lk)("ul",_,[(0,e.Lk)("li",L,[i[6]||(i[6]=(0,e.Lk)("span",null,"Metacritic:",-1)),(0,e.Lk)("strong",null,(0,n.v_)(x.gameData.metacritic||"N/A"),1)]),(0,e.Lk)("li",E,[i[7]||(i[7]=(0,e.Lk)("span",null,"Géneros:",-1)),(0,e.Lk)("strong",null,(0,n.v_)(x.gameData.genres.map((t=>t.name)).join(", ")),1)]),(0,e.Lk)("li",y,[i[8]||(i[8]=(0,e.Lk)("span",null,"Plataformas:",-1)),(0,e.Lk)("strong",null,(0,n.v_)(x.gameData.platforms.map((t=>t.platform.name)).join(", ")),1)])]),(0,e.bF)(z,{fluid:"",class:"p-4 custom-capturas-container"},{default:(0,e.k6)((()=>[i[9]||(i[9]=(0,e.Lk)("h3",{class:"text-white mb-4"},"Capturas de Pantalla",-1)),(0,e.bF)(R,null,{default:(0,e.k6)((()=>[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(x.gameData.short_screenshots,((t,i)=>((0,e.uX)(),(0,e.Wv)(K,{key:i,cols:"6",md:"4",lg:"3",class:"mb-3"},{default:(0,e.k6)((()=>[(0,e.Lk)("a",{href:t.image,target:"_blank",rel:"noopener noreferrer"},[(0,e.bF)(q,{thumbnail:"",fluid:"",src:t.image,alt:"Captura "+(i+1),class:"screenshot-img"},null,8,["src","alt"])],8,F)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1})])):((0,e.uX)(),(0,e.CE)("div",C,[(0,e.bF)(G,{label:"Cargando...",class:"d-block mx-auto my-4"}),i[11]||(i[11]=(0,e.Lk)("p",{class:"text-center text-muted"},"Cargando datos del juego...",-1))]))])),_:1})}var T={name:"OpinionesView",data(){return{opinionToEdit:{id:null,author:"",text:"",rating:0},isEditing:!1}},computed:{gameSlug(){return this.$route.params.gameSlug},gameData(){return this.$store.getters.getGameBySlug(this.gameSlug)},opinions(){return this.$store.state.reviews[this.gameSlug]||[]}},methods:{saveOpinion(){this.opinionToEdit.author&&this.opinionToEdit.text&&0!==this.opinionToEdit.rating?(this.isEditing?this.$store.dispatch("updateOpinion",{gameSlug:this.gameSlug,id:this.opinionToEdit.id,updatedOpinion:this.opinionToEdit}):this.$store.dispatch("addOpinion",{gameSlug:this.gameSlug,opinion:{...this.opinionToEdit,id:Date.now()}}),this.resetForm()):alert("Todos los campos son obligatorios, incluida la calificación.")},setRating(t){this.opinionToEdit.rating=t},editOpinion(t){this.opinionToEdit={...t},this.isEditing=!0},deleteOpinion(t){this.$store.dispatch("deleteOpinion",{gameSlug:this.gameSlug,id:t})},resetForm(){this.opinionToEdit={id:null,author:"",text:"",rating:0},this.isEditing=!1}}},x=a(1241);const D=(0,x.A)(T,[["render",O],["__scopeId","data-v-3ad69ae6"]]);var w=D}}]);
//# sourceMappingURL=762.2ccfae41.js.map