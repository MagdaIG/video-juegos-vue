(function(){"use strict";var e={7147:function(e,t,r){var n=r(5130),o=r(6768);const s={id:"app"};function a(e,t,r,n,a,i){const u=(0,o.g2)("AppNavbar"),c=(0,o.g2)("router-view"),l=(0,o.g2)("b-container"),d=(0,o.g2)("AppFooter");return(0,o.uX)(),(0,o.CE)("div",s,[(0,o.bF)(u),(0,o.bF)(l,{fluid:"",class:"main-content"},{default:(0,o.k6)((()=>[(0,o.bF)(c)])),_:1}),(0,o.bF)(d)])}const i={class:"brand-container"},u={class:"brand-box"},c={class:"search-container"};function l(e,t,r,s,a,l){const d=(0,o.g2)("b-navbar-brand"),m=(0,o.g2)("b-form-input"),g=(0,o.g2)("b-button"),f=(0,o.g2)("b-form"),p=(0,o.g2)("b-container"),h=(0,o.g2)("b-navbar");return(0,o.uX)(),(0,o.Wv)(h,{toggleable:"lg",class:"navbar-custom",variant:"dark"},{default:(0,o.k6)((()=>[(0,o.bF)(p,{class:"navbar-container"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",i,[(0,o.Lk)("div",u,[(0,o.bF)(d,{href:"/"},{default:(0,o.k6)((()=>t[1]||(t[1]=[(0,o.Lk)("i",{class:"fas fa-gamepad"},null,-1),(0,o.eW)(" Catálogo de Juegos ")]))),_:1})])]),(0,o.Lk)("div",c,[(0,o.bF)(f,{inline:"",onSubmit:(0,n.D$)(l.handleSearch,["prevent"]),class:"search-form"},{default:(0,o.k6)((()=>[(0,o.bF)(m,{modelValue:a.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=e=>a.searchQuery=e),placeholder:"Buscar juegos...",class:"search-input"},null,8,["modelValue"]),(0,o.bF)(g,{type:"submit",variant:"light",class:"search-button"},{default:(0,o.k6)((()=>t[2]||(t[2]=[(0,o.Lk)("i",{class:"fas fa-search"},null,-1)]))),_:1})])),_:1},8,["onSubmit"])]),l.showLogoutButton?((0,o.uX)(),(0,o.Wv)(g,{key:0,type:"submit",variant:"light",class:"search-button",onClick:l.adminPage},{default:(0,o.k6)((()=>t[3]||(t[3]=[(0,o.Lk)("i",{class:"fas fa-id-card","aria-hidden":"true"},null,-1)]))),_:1},8,["onClick"])):(0,o.Q3)("",!0),l.showLogoutButton?((0,o.uX)(),(0,o.Wv)(g,{key:1,type:"submit",variant:"light",class:"search-button",onClick:l.handleLogout},{default:(0,o.k6)((()=>t[4]||(t[4]=[(0,o.Lk)("i",{class:"fas fa-sign-out"},null,-1)]))),_:1},8,["onClick"])):(0,o.Q3)("",!0)])),_:1})])),_:1})}r(4114);var d=r(782),m={name:"AppNavbar",data(){return{searchQuery:""}},computed:{...(0,d.L8)(["currentUser"]),showLogoutButton(){return!!this.currentUser},...(0,d.L8)(["allGames"])},methods:{handleLogout(){this.$store.dispatch("logout")},adminPage(){this.$router.push("/administracion")},...(0,d.i0)(["searchGames"]),handleSearch(){this.searchQuery.trim()&&this.searchGames(this.searchQuery)}}},g=r(1241);const f=(0,g.A)(m,[["render",l],["__scopeId","data-v-caf32300"]]);var p=f;const h={class:"footer-custom"};function v(e,t,r,n,s,a){const i=(0,o.g2)("b-col"),u=(0,o.g2)("b-row"),c=(0,o.g2)("b-container");return(0,o.uX)(),(0,o.CE)("div",h,[(0,o.bF)(c,null,{default:(0,o.k6)((()=>[(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.bF)(i,{class:"text-center"},{default:(0,o.k6)((()=>t[0]||(t[0]=[(0,o.Lk)("p",null,"© 2024 Magdalena Inalaf - Todos los derechos reservados",-1)]))),_:1})])),_:1})])),_:1})])}var k={name:"AppFooter"};const b=(0,g.A)(k,[["render",v],["__scopeId","data-v-2198be79"]]);var L=b,y={name:"App",components:{AppNavbar:p,AppFooter:L},created(){this.$store.state.games.length||this.$store.dispatch("fetchGames")}};const w=(0,g.A)(y,[["render",a]]);var C=w,F=r(1387),E=r(4232);const U={class:"games-container"},O={class:"game-card"},S=["src"],G={class:"game-card-body"},_={class:"game-card-title"},A={class:"game-card-text"},I={class:"game-card-actions"},$=["onClick"],j=["onClick"],B={key:1,class:"custom-modal-overlay"},N={class:"custom-modal"},x={key:2,class:"custom-modal-overlay"},T={class:"custom-modal"},M={class:"form-group"},P={class:"form-group"},H={class:"modal-actions"};function X(e,t,r,s,a,i){const u=(0,o.g2)("b-col"),c=(0,o.g2)("b-row"),l=(0,o.g2)("b-alert"),d=(0,o.g2)("v-container");return(0,o.uX)(),(0,o.Wv)(d,null,{default:(0,o.k6)((()=>[t[14]||(t[14]=(0,o.Lk)("div",{class:"black-container"},[(0,o.Lk)("div",{class:"title-container"},[(0,o.Lk)("h2",{class:"section-title"},[(0,o.Lk)("span",{class:"title-decorator-left"}),(0,o.eW)(" Lista de Juegos Disponibles "),(0,o.Lk)("span",{class:"title-decorator-right"})])])],-1)),(0,o.Lk)("div",U,[(0,o.bF)(c,null,{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.games,((e,r)=>((0,o.uX)(),(0,o.Wv)(u,{key:r,cols:"12",md:"4",lg:"3",class:"mb-4"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",O,[(0,o.Lk)("img",{src:e.background_image||a.placeholderImage,alt:"Game Image",class:"game-card-img"},null,8,S),(0,o.Lk)("div",G,[(0,o.Lk)("h3",_,(0,E.v_)(e.name),1),(0,o.Lk)("p",A,[t[6]||(t[6]=(0,o.eW)(" Lanzamiento: ")),(0,o.Lk)("strong",null,(0,E.v_)(e.released||"N/A"),1)]),(0,o.Lk)("div",I,[(0,o.Lk)("button",{class:"btn-primary",onClick:t=>i.navigateToOpinions(e.slug)}," Opinar ",8,$),(0,o.Lk)("button",{class:(0,E.C4)(["btn-heart",{liked:i.userLikes.includes(e.id)}]),onClick:t=>i.toggleLike(e.id)},[(0,o.Lk)("i",{class:(0,E.C4)(i.userLikes.includes(e.id)?"fas fa-heart":"far fa-heart")},null,2)],10,j)])])])])),_:2},1024)))),128))])),_:1})]),0===i.games.length?((0,o.uX)(),(0,o.Wv)(l,{key:0,variant:"info",show:""},{default:(0,o.k6)((()=>t[7]||(t[7]=[(0,o.eW)(" No hay juegos disponibles en este momento. ")]))),_:1})):(0,o.Q3)("",!0),a.showHeartModal?((0,o.uX)(),(0,o.CE)("div",B,[(0,o.Lk)("div",N,[t[8]||(t[8]=(0,o.Lk)("h2",null,"Verificar Datos",-1)),t[9]||(t[9]=(0,o.Lk)("p",null,"Para ver la información ingresa tus datos",-1)),(0,o.Lk)("button",{class:"btn-primary",onClick:t[0]||(t[0]=(...e)=>i.openLoginForm&&i.openLoginForm(...e))},"Ingresar Datos"),(0,o.Lk)("button",{class:"btn-secondary",onClick:t[1]||(t[1]=(...e)=>i.closeHeartModal&&i.closeHeartModal(...e))},"Cerrar")])])):(0,o.Q3)("",!0),a.showLoginForm?((0,o.uX)(),(0,o.CE)("div",x,[(0,o.Lk)("div",T,[t[13]||(t[13]=(0,o.Lk)("h2",null,"Iniciar Sesión",-1)),(0,o.Lk)("form",{onSubmit:t[5]||(t[5]=(0,n.D$)(((...e)=>i.handleLogin&&i.handleLogin(...e)),["prevent"]))},[(0,o.Lk)("div",M,[t[10]||(t[10]=(0,o.Lk)("label",{for:"nameInput"},"Nombre",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>a.loginForm.name=e),id:"nameInput",type:"text",class:"form-input",required:"",placeholder:"Ingresa tu nombre"},null,512),[[n.Jo,a.loginForm.name]])]),(0,o.Lk)("div",P,[t[11]||(t[11]=(0,o.Lk)("label",{for:"surnameInput"},"Apellido",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>a.loginForm.surname=e),id:"surnameInput",type:"text",class:"form-input",required:"",placeholder:"Ingresa tu apellido"},null,512),[[n.Jo,a.loginForm.surname]])]),(0,o.Lk)("div",H,[t[12]||(t[12]=(0,o.Lk)("button",{type:"submit",class:"btn-primary"},"Ingresar",-1)),(0,o.Lk)("button",{type:"button",class:"btn-secondary",onClick:t[4]||(t[4]=(...e)=>i.closeLoginForm&&i.closeLoginForm(...e))}," Cancelar ")])],32)])])):(0,o.Q3)("",!0)])),_:1})}var Q={name:"HomeView",data(){return{placeholderImage:"https://via.placeholder.com/300x300?text=No+Image",likedGames:[],loginForm:{name:"",surname:""},showHeartModal:!1,showLoginForm:!1}},computed:{games(){return this.$store.getters.allGames},userLikes(){return this.$store.getters.currentUserLikes}},methods:{navigateToOpinions(e){this.$router.push(`/opiniones/${e}`)},toggleLike(e){if(this.$store.getters.isLoggedIn)try{this.$store.dispatch("toggleLike",e)}catch(t){alert(t.message)}else this.showHeartModal=!0},openLoginForm(){this.showHeartModal=!1,this.showLoginForm=!0},closeHeartModal(){this.showHeartModal=!1},closeLoginForm(){this.showLoginForm=!1},handleLogin(){if(this.loginForm.name&&this.loginForm.surname){const e=`${this.loginForm.name} ${this.loginForm.surname}`;this.$store.dispatch("registerUser",e),alert(`Bienvenido, ${e}`),console.log(this.$store),this.closeLoginForm()}else alert("Por favor, completa todos los campos.")}},created(){this.$store.dispatch("fetchGames")}};const W=(0,g.A)(Q,[["render",X],["__scopeId","data-v-5995a544"]]);var D=W;const V=[{path:"/",name:"Home",component:D},{path:"/opiniones/:gameSlug",name:"Opiniones",component:()=>r.e(762).then(r.bind(r,2762))},{path:"/administracion",name:"Administracion",component:()=>r.e(118).then(r.bind(r,6118))},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>r.e(537).then(r.bind(r,537))}],J=(0,F.aE)({history:(0,F.LA)("/video-juegos-vue/"),routes:V});var q=J;r(8992),r(4520),r(2577);function K(e){const t=JSON.parse(localStorage.getItem("vuexState"));t&&e.replaceState(Object.assign(e.state,t)),e.subscribe(((e,t)=>{localStorage.setItem("vuexState",JSON.stringify(t))}))}var z=(0,d.y$)({state:{games:[],loading:!1,error:null,reviews:{},users:{},currentUser:""},mutations:{removeCoinFromGame(e,{gameSlug:t,username:r}){const n=e.users[r];n&&n.likes.includes(t)&&n.coinsByGame[t]>0&&(n.coinsByGame[t]-=1,n.coins+=1)},registerUser(e,t){e.users[t]||(e.users[t]={likes:[],coins:50,coinsByGame:[]})},setCurrentUser(e,t){e.currentUser=t},logoutUser(e){e.currentUser=""},setGames(e,t){e.games=t},setLoading(e,t){e.loading=t},setError(e,t){e.error=t},addLike(e,{gameSlug:t,username:r}){const n=e.users[r];n||(e.users[r]={likes:[],coins:50,coinsByGame:{}});const o=e.users[r].likes,s=o.indexOf(t);if(-1===s)o.push(t),n.coinsByGame[t]=0;else{o.splice(s,1);const e=n.coinsByGame[t];n.coins+=e,delete n.coinsByGame[t]}},addCoinToGame(e,{gameSlug:t,username:r}){const n=e.users[r];n&&n.likes.includes(t)&&n.coins>0&&(n.coins-=1,n.coinsByGame[t]+=1)},addOpinion(e,{gameSlug:t,opinion:r}){e.reviews[t]||(e.reviews[t]=[]),e.reviews[t].push(r)},updateOpinion(e,{gameSlug:t,id:r,updatedOpinion:n}){const o=e.reviews[t];if(o){const s=o.findIndex((e=>e.id===r));-1!==s&&(e.reviews[t][s]={...e.reviews[t][s],...n})}},deleteOpinion(e,{gameSlug:t,id:r}){e.reviews[t]&&(e.reviews[t]=e.reviews[t].filter((e=>e.id!==r)))}},actions:{removeCoinFromGame({commit:e,state:t},r){const n=t.currentUser;if(!n)throw new Error("El usuario no está autenticado.");e("removeCoinFromGame",{gameSlug:r,username:n})},addCoinToGame({commit:e,state:t},r){const n=t.currentUser;if(!n)throw new Error("El usuario no está autenticado.");e("addCoinToGame",{gameSlug:r,username:n})},toggleLike({state:e,commit:t},r){const n=e.currentUser;if(!n)throw new Error("El usuario no está autenticado.");t("addLike",{gameSlug:r,username:n})},login({commit:e},t){e("setCurrentUser",t)},logout({commit:e}){e("logoutUser")},registerUser({state:e,commit:t},r){e.users[r]||t("registerUser",r),t("setCurrentUser",r)},async fetchGames({commit:e}){e("setLoading",!0),e("setError",null);try{const t="4a731528ad48459c8f28aa52f11a0973",r=await fetch(`https://api.rawg.io/api/games?key=${t}`);if(!r.ok)throw new Error("Error al obtener juegos de la API");const n=await r.json();e("setGames",n.results)}catch(t){console.error("Error en fetchGames:",t.message),e("setError",t.message)}finally{e("setLoading",!1)}},async searchGames({commit:e},t){e("setLoading",!0),e("setError",null);try{const r="4a731528ad48459c8f28aa52f11a0973",n=await fetch(`https://api.rawg.io/api/games?search=${t}&key=${r}`);if(!n.ok)throw new Error("Error al buscar juegos en la API");const o=await n.json();e("setGames",o.results)}catch(r){console.error("Error en searchGames:",r.message),e("setError",r.message)}finally{e("setLoading",!1)}},addLike({commit:e,state:t},r){t.currentUser&&e("addLike",{...r,username:t.currentUser})},addOpinion({commit:e},t){e("addOpinion",t)},updateOpinion({commit:e},t){e("updateOpinion",t)},deleteOpinion({commit:e},t){e("deleteOpinion",t)}},getters:{currentUserCoins(e){const t=e.currentUser;return t&&e.users[t]?e.users[t].coins:0},coinsByGame(e){const t=e.currentUser;return t&&e.users[t]?e.users[t].coinsByGame:{}},currentUserLikes(e){const t=e.currentUser;return t&&e.users[t]&&e.users[t].likes||[]},currentUser(e){return e.currentUser},isLoggedIn(e){return!!e.currentUser},getCurrentUserLikes:e=>e.currentUser&&e.users[e.currentUser]&&e.users[e.currentUser].likes||[],allGames(e){return e.games},isLoading(e){return e.loading},fetchError(e){return e.error},getOpinionsById:e=>t=>e.reviews&&e.reviews[t]?e.reviews[t]:[],getGameBySlug:e=>t=>e.games.find((e=>e.slug===t))},plugins:[K]}),R=r(5015),Y=r(5888);r(5524);const Z=(0,Y.$N)({theme:{defaultTheme:"light"}}),ee=(0,n.Ef)(C);ee.use(z),ee.use(q),ee.use(Z),ee.use(R.Ay),ee.mount("#app")}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}r.m=e,function(){var e=[];r.O=function(t,n,o,s){if(!n){var a=1/0;for(l=0;l<e.length;l++){n=e[l][0],o=e[l][1],s=e[l][2];for(var i=!0,u=0;u<n.length;u++)(!1&s||a>=s)&&Object.keys(r.O).every((function(e){return r.O[e](n[u])}))?n.splice(u--,1):(i=!1,s<a&&(a=s));if(i){e.splice(l--,1);var c=o();void 0!==c&&(t=c)}}return t}s=s||0;for(var l=e.length;l>0&&e[l-1][2]>s;l--)e[l]=e[l-1];e[l]=[n,o,s]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(t,n){return r.f[n](e,t),t}),[]))}}(),function(){r.u=function(e){return"js/"+e+"."+{118:"54649d6f",537:"c4141bc4",762:"2ccfae41"}[e]+".js"}}(),function(){r.miniCssF=function(e){return"css/"+e+".15eac7c0.css"}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="proyecto-vue:";r.l=function(n,o,s,a){if(e[n])e[n].push(o);else{var i,u;if(void 0!==s)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var d=c[l];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+s){i=d;break}}i||(u=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.setAttribute("data-webpack",t+s),i.src=n),e[n]=[o];var m=function(t,r){i.onerror=i.onload=null,clearTimeout(g);var o=e[n];if(delete e[n],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((function(e){return e(r)})),t)return t(r)},g=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),u&&document.head.appendChild(i)}}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.p="/video-juegos-vue/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,n,o,s){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",r.nc&&(a.nonce=r.nc);var i=function(r){if(a.onerror=a.onload=null,"load"===r.type)o();else{var n=r&&r.type,i=r&&r.target&&r.target.href||t,u=new Error("Loading CSS chunk "+e+" failed.\n("+n+": "+i+")");u.name="ChunkLoadError",u.code="CSS_CHUNK_LOAD_FAILED",u.type=n,u.request=i,a.parentNode&&a.parentNode.removeChild(a),s(u)}};return a.onerror=a.onload=i,a.href=t,n?n.parentNode.insertBefore(a,n.nextSibling):document.head.appendChild(a),a},t=function(e,t){for(var r=document.getElementsByTagName("link"),n=0;n<r.length;n++){var o=r[n],s=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(s===e||s===t))return o}var a=document.getElementsByTagName("style");for(n=0;n<a.length;n++){o=a[n],s=o.getAttribute("data-href");if(s===e||s===t)return o}},n=function(n){return new Promise((function(o,s){var a=r.miniCssF(n),i=r.p+a;if(t(a,i))return o();e(n,i,null,o,s)}))},o={524:0};r.f.miniCss=function(e,t){var r={762:1};o[e]?t.push(o[e]):0!==o[e]&&r[e]&&t.push(o[e]=n(e).then((function(){o[e]=0}),(function(t){throw delete o[e],t})))}}}(),function(){var e={524:0};r.f.j=function(t,n){var o=r.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var s=new Promise((function(r,n){o=e[t]=[r,n]}));n.push(o[2]=s);var a=r.p+r.u(t),i=new Error,u=function(n){if(r.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var s=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",i.name="ChunkLoadError",i.type=s,i.request=a,o[1](i)}};r.l(a,u,"chunk-"+t,t)}},r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,s,a=n[0],i=n[1],u=n[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(u)var l=u(r)}for(t&&t(n);c<a.length;c++)s=a[c],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(l)},n=self["webpackChunkproyecto_vue"]=self["webpackChunkproyecto_vue"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[504],(function(){return r(7147)}));n=r.O(n)})();
//# sourceMappingURL=app.866e0c10.js.map