{"version":3,"file":"js/118.54649d6f.js","mappings":"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","sources":["webpack://proyecto-vue/./src/views/AdminView.vue","webpack://proyecto-vue/./src/views/AdminView.vue?e347"],"sourcesContent":["<template>\n  <div class=\"container py-5\">\n    <h1 class=\"text-center mb-4\">Vista de Administración</h1>\n\n    <!-- Información del usuario -->\n    <div class=\"card mb-5\">\n      <div class=\"card-body\">\n        <h5 class=\"card-title\">Información del Usuario</h5>\n        <p class=\"card-text\">\n          <strong>Nombre:</strong> {{ user.name }}\n        </p>\n        <p class=\"card-text\">\n          <strong>Apellido:</strong> {{ user.surname }}\n        </p>\n        <p class=\"card-text\">\n          <strong>Monedas Restantes:</strong> {{ remainingCoins }}\n        </p>\n      </div>\n    </div>\n\n    <!-- Juegos marcados como \"like\" -->\n    <h2 class=\"text-center mb-4\">Juegos Favoritos</h2>\n    <div class=\"row g-4\">\n      <div\n          class=\"col-12 col-sm-6 col-md-4\"\n          v-for=\"game in likedGames\"\n          :key=\"game.id\"\n      >\n        <div class=\"card h-100\">\n          <img\n              :src=\"game.background_image || placeholderImage\"\n              class=\"card-img-top\"\n              alt=\"Imagen del juego\"\n          />\n          <div class=\"card-body\">\n            <h5 class=\"card-title\">{{ game.name }}</h5>\n            <p class=\"card-text\">\n              <strong>Lanzamiento:</strong> {{ game.released || \"N/A\" }}\n            </p>\n            <p class=\"card-text\">\n              <strong>Coins Asignadas:</strong> {{ coinsByGame[game.id] || 0 }}\n            </p>\n            <!-- Barra de progreso -->\n            <div class=\"progress mb-2\">\n              <div\n                  class=\"progress-bar\"\n                  role=\"progressbar\"\n                  :class=\"progressBarClass(game.id)\"\n                  :style=\"{ width: progressBarWidth(game.id) + '%' }\"\n                  :aria-valuenow=\"coinsByGame[game.id] || 0\"\n                  aria-valuemin=\"0\"\n                  aria-valuemax=\"100\"\n              >\n                {{ progressBarWidth(game.id) }}%\n              </div>\n            </div>\n            <!-- Mensaje de máximo alcanzado -->\n            <p v-if=\"coinsByGame[game.id] === 50\" class=\"text-danger\">\n              ¡Has alcanzado el máximo de coins para este juego!\n            </p>\n            <!-- Botones para asignar y remover coins -->\n            <div class=\"d-flex justify-content-between\">\n              <button\n                  class=\"btn btn-outline-success\"\n                  :disabled=\"remainingCoins === 0\"\n                  @click=\"addCoin(game.id)\"\n              >\n                +1 Coin\n              </button>\n              <button\n                  class=\"btn btn-outline-danger\"\n                  :disabled=\"(coinsByGame[game.id] || 0) === 0\"\n                  @click=\"removeCoin(game.id)\"\n              >\n                -1 Coin\n              </button>\n            </div>\n            <!-- Botón para quitar like -->\n            <button\n                class=\"btn btn-outline-danger w-100 mt-3\"\n                @click=\"toggleLike(game.id)\"\n            >\n              <i :class=\"likedGames.some((g) => g.id === game.id) ? 'fas fa-heart' : 'far fa-heart'\"></i>\n              {{ likedGames.some((g) => g.id === game.id) ? \"Ya no me gusta\" : \"Dar Like\" }}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\n\nexport default {\n  name: \"AdminView\",\n  computed: {\n    ...mapGetters([\n      \"currentUser\",\n      \"getCurrentUserLikes\",\n      \"allGames\",\n      \"currentUserCoins\",\n      \"coinsByGame\",\n    ]),\n    user() {\n      if (this.currentUser) {\n        const [name, ...surnameParts] = this.currentUser.split(\" \");\n        return {\n          name,\n          surname: surnameParts.join(\" \"),\n        };\n      }\n      return { name: \"\", surname: \"\" };\n    },\n    likedGames() {\n      const likedGameIds = this.getCurrentUserLikes;\n      return this.allGames.filter((game) => likedGameIds.includes(game.id));\n    },\n    remainingCoins() {\n      return this.currentUserCoins; // Monedas restantes del usuario\n    },\n  },\n  methods: {\n    toggleLike(gameId) {\n      if (!this.currentUser) {\n        alert(\"Debes iniciar sesión para realizar esta acción.\");\n        return;\n      }\n      try {\n        this.$store.dispatch(\"toggleLike\", gameId); // Alternar el estado de \"like\"\n      } catch (error) {\n        console.error(\"Error al alternar el like:\", error.message);\n      }\n    },\n    addCoin(gameId) {\n      try {\n        this.$store.dispatch(\"addCoinToGame\", gameId); // Agregar una moneda al juego\n      } catch (error) {\n        console.error(\"Error al asignar moneda:\", error.message);\n      }\n    },\n    removeCoin(gameId) {\n      try {\n        this.$store.dispatch(\"removeCoinFromGame\", gameId); // Remover una moneda del juego\n      } catch (error) {\n        console.error(\"Error al remover moneda:\", error.message);\n      }\n    },\n    progressBarWidth(gameId) {\n      const coinsAssigned = this.coinsByGame[gameId] || 0;\n      return Math.floor((coinsAssigned / 50) * 100); // Calcula el progreso en porcentaje y redondea hacia abajo\n    },\n    progressBarClass(gameId) {\n      const progress = this.progressBarWidth(gameId);\n\n      if (progress < 25) {\n        return \"bg-success\"; // Verde\n      } else if (progress < 90) {\n        return \"bg-warning\"; // Amarillo\n      } else {\n        return \"bg-danger\"; // Rojo\n      }\n    },\n  },\n  data() {\n    return {\n      placeholderImage: \"https://via.placeholder.com/300x200?text=No+Image\",\n    };\n  },\n};\n</script>","import { render } from \"./AdminView.vue?vue&type=template&id=2d6f1d3f\"\nimport script from \"./AdminView.vue?vue&type=script&lang=js\"\nexport * from \"./AdminView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_createTextVNode","_toDisplayString","$options","user","name","_hoisted_5","surname","_hoisted_6","remainingCoins","_hoisted_7","_Fragment","_renderList","likedGames","game","id","_hoisted_8","src","background_image","$data","placeholderImage","alt","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","released","_hoisted_13","_ctx","coinsByGame","_hoisted_14","_normalizeClass","progressBarClass","role","style","_normalizeStyle","width","progressBarWidth","_hoisted_15","_hoisted_16","_createCommentVNode","_hoisted_17","disabled","onClick","$event","addCoin","_hoisted_18","removeCoin","_hoisted_19","toggleLike","some","g","_hoisted_20","computed","mapGetters","this","currentUser","surnameParts","split","join","likedGameIds","getCurrentUserLikes","allGames","filter","includes","currentUserCoins","methods","gameId","$store","dispatch","error","console","message","alert","coinsAssigned","Math","floor","progress","data","__exports__","render"],"sourceRoot":""}