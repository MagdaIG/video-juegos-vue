"use strict";(self["webpackChunkproyecto_vue"]=self["webpackChunkproyecto_vue"]||[]).push([[212],{212:function(t,i,a){a.r(i),a.d(i,{default:function(){return O}});a(1454);var e=a(6768),n=a(4232),l=a(5130);const o={key:0},s={class:"overlay"},u={class:"display-4"},r={class:"lead"},d={class:"lead"},g={class:"d-flex justify-content-between"},c={class:"stars-input"},p=["onClick"],m={class:"stars"},k={class:"mt-4 p-4 bg-light rounded shadow-sm"},b={class:"stars-input"},h=["onClick"],f={class:"list-group mb-4"},v={class:"list-group-item d-flex justify-content-between"},_={class:"list-group-item d-flex justify-content-between"},L={class:"list-group-item d-flex justify-content-between"},E=["href"],y={key:1};function C(t,i,a,C,F,T){const x=(0,e.g2)("b-alert"),O=(0,e.g2)("b-form-group"),w=(0,e.g2)("b-button"),D=(0,e.g2)("b-card-header"),S=(0,e.g2)("b-card-body"),X=(0,e.g2)("b-card"),I=(0,e.g2)("b-accordion"),W=(0,e.g2)("b-form-input"),j=(0,e.g2)("b-form-textarea"),$=(0,e.g2)("b-form"),V=(0,e.g2)("b-col"),A=(0,e.g2)("b-img"),K=(0,e.g2)("b-row"),R=(0,e.g2)("b-container"),q=(0,e.g2)("b-spinner");return(0,e.uX)(),(0,e.Wv)(R,null,{default:(0,e.k6)((()=>[T.gameData&&Object.keys(T.gameData).length>0?((0,e.uX)(),(0,e.CE)("div",o,[(0,e.Lk)("div",{class:"game-header text-center text-white py-5",style:(0,n.Tr)({backgroundImage:`url(${T.gameData.background_image})`})},[(0,e.Lk)("div",s,[(0,e.Lk)("h1",u,(0,n.v_)(T.gameData.name),1),(0,e.Lk)("p",r,"Lanzamiento: "+(0,n.v_)(T.gameData.released),1),(0,e.Lk)("p",d,"Rating: "+(0,n.v_)(T.gameData.rating)+" / 5 ("+(0,n.v_)(T.gameData.ratings_count)+" votos)",1)])],4),(0,e.bF)(K,{class:"mt-4"},{default:(0,e.k6)((()=>[(0,e.bF)(V,{cols:"12",md:"8"},{default:(0,e.k6)((()=>[i[5]||(i[5]=(0,e.Lk)("div",{class:"opinion-container"},[(0,e.Lk)("h3",{class:"opinion-title"},"Opiniones")],-1)),0===T.opinions.length?((0,e.uX)(),(0,e.Wv)(x,{key:0,variant:"info",show:""},{default:(0,e.k6)((()=>i[2]||(i[2]=[(0,e.eW)(" No hay opiniones disponibles para este juego. ")]))),_:1})):((0,e.uX)(),(0,e.Wv)(I,{key:1},{default:(0,e.k6)((()=>[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(T.opinions,(t=>((0,e.uX)(),(0,e.Wv)(X,{key:t.id,class:"mb-3","no-body":""},{default:(0,e.k6)((()=>[(0,e.bF)(D,null,{default:(0,e.k6)((()=>[(0,e.Lk)("div",g,[(0,e.Lk)("span",null,[(0,e.Lk)("strong",null,(0,n.v_)(t.author),1)]),(0,e.bF)(O,{label:"Calificación"},{default:(0,e.k6)((()=>[(0,e.Lk)("div",c,[((0,e.uX)(),(0,e.CE)(e.FK,null,(0,e.pI)(5,(t=>(0,e.Lk)("i",{key:t,class:(0,n.C4)(["fa-star","fa",t<=F.opinionToEdit.rating?"fas":"far"]),onClick:i=>T.setRating(t)},null,10,p))),64))])])),_:1}),(0,e.Lk)("div",m,[((0,e.uX)(),(0,e.CE)(e.FK,null,(0,e.pI)(5,(i=>(0,e.Lk)("i",{key:i,class:(0,n.C4)(["fa-star","fa",i<=t.rating?"fas":"far"])},null,2))),64))]),(0,e.Lk)("div",null,[(0,e.bF)(w,{type:"submit",class:"boton-editar",onClick:i=>T.editOpinion(t)},{default:(0,e.k6)((()=>i[3]||(i[3]=[(0,e.eW)(" Editar ")]))),_:2},1032,["onClick"]),(0,e.bF)(w,{type:"submit",class:"boton-eliminar",onClick:i=>T.deleteOpinion(t.id)},{default:(0,e.k6)((()=>i[4]||(i[4]=[(0,e.eW)(" Eliminar ")]))),_:2},1032,["onClick"])])])])),_:2},1024),(0,e.bF)(S,null,{default:(0,e.k6)((()=>[(0,e.eW)((0,n.v_)(t.text),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})),(0,e.Lk)("div",k,[(0,e.Lk)("h4",null,(0,n.v_)(F.isEditing?"Editar Opinión":"Agregar Opinión"),1),(0,e.bF)($,{onSubmit:(0,l.D$)(T.saveOpinion,["prevent"])},{default:(0,e.k6)((()=>[(0,e.bF)(O,{label:"Autor","label-for":"authorInput"},{default:(0,e.k6)((()=>[(0,e.bF)(W,{id:"authorInput",modelValue:F.opinionToEdit.author,"onUpdate:modelValue":i[0]||(i[0]=t=>F.opinionToEdit.author=t),required:"",placeholder:"Escribe tu nombre"},null,8,["modelValue"])])),_:1}),(0,e.bF)(O,{label:"Opinión","label-for":"opinionInput"},{default:(0,e.k6)((()=>[(0,e.bF)(j,{id:"opinionInput",modelValue:F.opinionToEdit.text,"onUpdate:modelValue":i[1]||(i[1]=t=>F.opinionToEdit.text=t),required:"",rows:"3",placeholder:"Escribe tu opinión aquí"},null,8,["modelValue"])])),_:1}),(0,e.bF)(O,{label:"Calificación"},{default:(0,e.k6)((()=>[(0,e.Lk)("div",b,[((0,e.uX)(),(0,e.CE)(e.FK,null,(0,e.pI)(5,(t=>(0,e.Lk)("i",{key:t,class:(0,n.C4)(["star",t<=F.opinionToEdit.rating?"filled":""]),onClick:i=>T.setRating(t)},null,10,h))),64))])])),_:1}),(0,e.bF)(w,{type:"submit",class:"boton-opinar",block:""},{default:(0,e.k6)((()=>[(0,e.eW)((0,n.v_)(F.isEditing?"Actualizar":"Agregar Opinión"),1)])),_:1})])),_:1},8,["onSubmit"])])])),_:1}),(0,e.bF)(V,{cols:"12",md:"4"},{default:(0,e.k6)((()=>[i[10]||(i[10]=(0,e.Lk)("div",{class:"game-details-container"},[(0,e.Lk)("h3",{class:"game-details-title"},"Detalles del Juego")],-1)),(0,e.Lk)("ul",f,[(0,e.Lk)("li",v,[i[6]||(i[6]=(0,e.Lk)("span",null,"Metacritic:",-1)),(0,e.Lk)("strong",null,(0,n.v_)(T.gameData.metacritic||"N/A"),1)]),(0,e.Lk)("li",_,[i[7]||(i[7]=(0,e.Lk)("span",null,"Géneros:",-1)),(0,e.Lk)("strong",null,(0,n.v_)(T.gameData.genres.map((t=>t.name)).join(", ")),1)]),(0,e.Lk)("li",L,[i[8]||(i[8]=(0,e.Lk)("span",null,"Plataformas:",-1)),(0,e.Lk)("strong",null,(0,n.v_)(T.gameData.platforms.map((t=>t.platform.name)).join(", ")),1)])]),(0,e.bF)(R,{fluid:"",class:"p-4 custom-capturas-container"},{default:(0,e.k6)((()=>[i[9]||(i[9]=(0,e.Lk)("h3",{class:"text-white mb-4"},"Capturas de Pantalla",-1)),(0,e.bF)(K,null,{default:(0,e.k6)((()=>[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(T.gameData.short_screenshots,((t,i)=>((0,e.uX)(),(0,e.Wv)(V,{key:i,cols:"6",md:"4",lg:"3",class:"mb-3"},{default:(0,e.k6)((()=>[(0,e.Lk)("a",{href:t.image,target:"_blank",rel:"noopener noreferrer"},[(0,e.bF)(A,{thumbnail:"",fluid:"",src:t.image,alt:"Captura "+(i+1),class:"screenshot-img"},null,8,["src","alt"])],8,E)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1})])):((0,e.uX)(),(0,e.CE)("div",y,[(0,e.bF)(q,{label:"Cargando...",class:"d-block mx-auto my-4"}),i[11]||(i[11]=(0,e.Lk)("p",{class:"text-center text-muted"},"Cargando datos del juego...",-1))]))])),_:1})}var F={name:"OpinionesView",data(){return{opinionToEdit:{id:null,author:"",text:"",rating:0},isEditing:!1}},computed:{gameSlug(){return this.$route.params.gameSlug},gameData(){return this.$store.getters.getGameBySlug(this.gameSlug)},opinions(){return this.$store.state.reviews[this.gameSlug]||[]}},methods:{saveOpinion(){this.opinionToEdit.author&&this.opinionToEdit.text&&0!==this.opinionToEdit.rating?(this.isEditing?this.$store.dispatch("updateOpinion",{gameSlug:this.gameSlug,id:this.opinionToEdit.id,updatedOpinion:this.opinionToEdit}):this.$store.dispatch("addOpinion",{gameSlug:this.gameSlug,opinion:{...this.opinionToEdit,id:Date.now()}}),this.resetForm()):alert("Todos los campos son obligatorios, incluida la calificación.")},setRating(t){this.opinionToEdit.rating=t},editOpinion(t){this.opinionToEdit={...t},this.isEditing=!0},deleteOpinion(t){this.$store.dispatch("deleteOpinion",{gameSlug:this.gameSlug,id:t})},resetForm(){this.opinionToEdit={id:null,author:"",text:"",rating:0},this.isEditing=!1}}},T=a(1241);const x=(0,T.A)(F,[["render",C],["__scopeId","data-v-65324784"]]);var O=x}}]);
//# sourceMappingURL=212.490cc0d7.js.map