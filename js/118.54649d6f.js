"use strict";(self["webpackChunkproyecto_vue"]=self["webpackChunkproyecto_vue"]||[]).push([[118],{6118:function(e,s,r){r.r(s),r.d(s,{default:function(){return E}});r(8992),r(7550);var a=r(6768),i=r(4232);const n={class:"container py-5"},t={class:"card mb-5"},o={class:"card-body"},l={class:"card-text"},c={class:"card-text"},d={class:"card-text"},u={class:"row g-4"},m={class:"card h-100"},g=["src"],k={class:"card-body"},h={class:"card-title"},p={class:"card-text"},L={class:"card-text"},v={class:"progress mb-2"},C=["aria-valuenow"],b={key:0,class:"text-danger"},y={class:"d-flex justify-content-between"},f=["disabled","onClick"],G=["disabled","onClick"],x=["onClick"];function B(e,s,r,B,_,w){return(0,a.uX)(),(0,a.CE)("div",n,[s[6]||(s[6]=(0,a.Lk)("h1",{class:"text-center mb-4"},"Vista de Administración",-1)),(0,a.Lk)("div",t,[(0,a.Lk)("div",o,[s[3]||(s[3]=(0,a.Lk)("h5",{class:"card-title"},"Información del Usuario",-1)),(0,a.Lk)("p",l,[s[0]||(s[0]=(0,a.Lk)("strong",null,"Nombre:",-1)),(0,a.eW)(" "+(0,i.v_)(w.user.name),1)]),(0,a.Lk)("p",c,[s[1]||(s[1]=(0,a.Lk)("strong",null,"Apellido:",-1)),(0,a.eW)(" "+(0,i.v_)(w.user.surname),1)]),(0,a.Lk)("p",d,[s[2]||(s[2]=(0,a.Lk)("strong",null,"Monedas Restantes:",-1)),(0,a.eW)(" "+(0,i.v_)(w.remainingCoins),1)])])]),s[7]||(s[7]=(0,a.Lk)("h2",{class:"text-center mb-4"},"Juegos Favoritos",-1)),(0,a.Lk)("div",u,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(w.likedGames,(r=>((0,a.uX)(),(0,a.CE)("div",{class:"col-12 col-sm-6 col-md-4",key:r.id},[(0,a.Lk)("div",m,[(0,a.Lk)("img",{src:r.background_image||_.placeholderImage,class:"card-img-top",alt:"Imagen del juego"},null,8,g),(0,a.Lk)("div",k,[(0,a.Lk)("h5",h,(0,i.v_)(r.name),1),(0,a.Lk)("p",p,[s[4]||(s[4]=(0,a.Lk)("strong",null,"Lanzamiento:",-1)),(0,a.eW)(" "+(0,i.v_)(r.released||"N/A"),1)]),(0,a.Lk)("p",L,[s[5]||(s[5]=(0,a.Lk)("strong",null,"Coins Asignadas:",-1)),(0,a.eW)(" "+(0,i.v_)(e.coinsByGame[r.id]||0),1)]),(0,a.Lk)("div",v,[(0,a.Lk)("div",{class:(0,i.C4)(["progress-bar",w.progressBarClass(r.id)]),role:"progressbar",style:(0,i.Tr)({width:w.progressBarWidth(r.id)+"%"}),"aria-valuenow":e.coinsByGame[r.id]||0,"aria-valuemin":"0","aria-valuemax":"100"},(0,i.v_)(w.progressBarWidth(r.id))+"% ",15,C)]),50===e.coinsByGame[r.id]?((0,a.uX)(),(0,a.CE)("p",b," ¡Has alcanzado el máximo de coins para este juego! ")):(0,a.Q3)("",!0),(0,a.Lk)("div",y,[(0,a.Lk)("button",{class:"btn btn-outline-success",disabled:0===w.remainingCoins,onClick:e=>w.addCoin(r.id)}," +1 Coin ",8,f),(0,a.Lk)("button",{class:"btn btn-outline-danger",disabled:0===(e.coinsByGame[r.id]||0),onClick:e=>w.removeCoin(r.id)}," -1 Coin ",8,G)]),(0,a.Lk)("button",{class:"btn btn-outline-danger w-100 mt-3",onClick:e=>w.toggleLike(r.id)},[(0,a.Lk)("i",{class:(0,i.C4)(w.likedGames.some((e=>e.id===r.id))?"fas fa-heart":"far fa-heart")},null,2),(0,a.eW)(" "+(0,i.v_)(w.likedGames.some((e=>e.id===r.id))?"Ya no me gusta":"Dar Like"),1)],8,x)])])])))),128))])])}r(4520);var _=r(782),w={name:"AdminView",computed:{...(0,_.L8)(["currentUser","getCurrentUserLikes","allGames","currentUserCoins","coinsByGame"]),user(){if(this.currentUser){const[e,...s]=this.currentUser.split(" ");return{name:e,surname:s.join(" ")}}return{name:"",surname:""}},likedGames(){const e=this.getCurrentUserLikes;return this.allGames.filter((s=>e.includes(s.id)))},remainingCoins(){return this.currentUserCoins}},methods:{toggleLike(e){if(this.currentUser)try{this.$store.dispatch("toggleLike",e)}catch(s){console.error("Error al alternar el like:",s.message)}else alert("Debes iniciar sesión para realizar esta acción.")},addCoin(e){try{this.$store.dispatch("addCoinToGame",e)}catch(s){console.error("Error al asignar moneda:",s.message)}},removeCoin(e){try{this.$store.dispatch("removeCoinFromGame",e)}catch(s){console.error("Error al remover moneda:",s.message)}},progressBarWidth(e){const s=this.coinsByGame[e]||0;return Math.floor(s/50*100)},progressBarClass(e){const s=this.progressBarWidth(e);return s<25?"bg-success":s<90?"bg-warning":"bg-danger"}},data(){return{placeholderImage:"https://via.placeholder.com/300x200?text=No+Image"}}},W=r(1241);const U=(0,W.A)(w,[["render",B]]);var E=U}}]);
//# sourceMappingURL=118.54649d6f.js.map